/*! Observe.js v0.8.1 | (c) Bunoon 2024 | MIT License */
(function(){function O(){for(var a=g.domElementTypes,b=a.length,c=0;c<b;c++){var f=B.getElementsByTagName(a[c]);f=[].slice.call(f);for(var h=f.length,m=0;m<h;m++){var k=f[m],v=!0;if(r(k)&&k.hasAttribute("data-observe-watch-options")){var e=k.getAttribute("data-observe-watch-options");l(e)?(e=D(e),e.parsed&&t(e.result)?(e=P(e.result),l(k.id)||(k.id=Q()),e.removeAttribute&&k.removeAttribute("data-observe-watch-options"),R(k,e,k.id)):(J(g.attributeNotValidErrorText.replace("{{attribute_name}}",
"data-observe-watch-options")),v=!1)):(J(g.attributeNotSetErrorText.replace("{{attribute_name}}","data-observe-watch-options")),v=!1)}if(!v)break}}}function R(a,b,c){var f=null;if(t(a)){f=Q();var h=P(b);b={};b.options=h;b.totalChanges=0;if(l(c)){if(a=B.getElementById(c),r(a)){b.domElementId=c;b.cachedObject=a.outerHTML;var m=b.originalObject=a.outerHTML}}else b.cachedObject=w.stringify(a),m=b.originalObject=a;r(b.cachedObject)&&(u(b.options.onStart,m),b.timer=setInterval(function(){var k=f,v=new Date;
if(!E(h.starts)||v>=h.starts){if(d.hasOwnProperty(k)){var e=d[k],n=l(e.domElementId),p=null;n&&(p=B.getElementById(e.domElementId),r(p)?e.originalObject=p.outerHTML:(e.originalObject=F.empty,u(e.options.onRemove,e.domElementId)));var x=e.cachedObject,q=e.originalObject;q=n?q:w.stringify(q);if(x!==q){e.options.reset?n?p.outerHTML=e.cachedObject:e.originalObject=D(x).result:e.cachedObject=q;if(n)u(e.options.onChange,x,q);else if(n=D(x).result,p=D(q).result,y(n)||y(p))u(e.options.onChange,n,p);else{if(y(e.options.propertyNames))for(x=
e.options.propertyNames.length,q=0;q<x;q++){var S=e.options.propertyNames[q];if(n[S]!==p[S]){u(e.options.onChange,n,p);break}}else u(e.options.onChange,n,p);G(e.options.onPropertyChange)&&T(n,p,e)}e.totalChanges++;0<e.options.pauseTimeoutOnChange&&H(k,e.options.pauseTimeoutOnChange);e.options.cancelOnChange&&z(k);0<e.options.maximumChangesBeforeCanceling&&e.totalChanges>=e.options.maximumChangesBeforeCanceling&&z(k)}}E(h.expires)&&v>=h.expires&&z(k)}},h.timeout),d[f]=b)}return f}function T(a,b,c){for(var f in a)if(a.hasOwnProperty(f)){var h=
a[f],m=null;b.hasOwnProperty(f)&&(m=b[f]);t(h)&&t(m)?T(h,m,c.options):(!y(c.options.propertyNames)||-1<c.options.propertyNames.indexOf(f))&&w.stringify(h)!==w.stringify(m)&&u(c.options.onPropertyChange,f,h,m)}}function U(){for(var a in d)d.hasOwnProperty(a)&&z(a)}function z(a){if(d.hasOwnProperty(a)){var b=d[a].options;if(b.allowCanceling||V)u(b.onCancel,a),clearInterval(d[a].timer),delete d[a]}}function H(a,b){var c=!1;d.hasOwnProperty(a)&&(a=d[a].options,a.allowPausing&&(a.starts=new Date,a.starts.setMilliseconds(a.starts.getMilliseconds()+
b),c=!0));return c}function P(a){var b={};a=t(a)?a:b;a.timeout=K(a.timeout,250);b=a;var c=a.starts;c=E(c)?c:null;b.starts=c;b=a;c=a.expires;c=E(c)?c:null;b.expires=c;a.reset=A(a.reset,!1);a.cancelOnChange=A(a.cancelOnChange,!1);a.maximumChangesBeforeCanceling=K(a.maximumChangesBeforeCanceling,0);a.pauseTimeoutOnChange=K(a.pauseTimeoutOnChange,0);b=a;c=a.propertyNames;c=y(c)?c:null;b.propertyNames=c;a.allowCanceling=A(a.allowCanceling,!0);a.allowPausing=A(a.allowPausing,!0);a.removeAttribute=A(a.removeAttribute,
!0);a.onChange=C(a.onChange,null);a.onPropertyChange=C(a.onPropertyChange,null);a.onCancel=C(a.onCancel,null);a.onRemove=C(a.onRemove,null);a.onStart=C(a.onStart,null);return a}function u(a){G(a)&&a.apply(null,[].slice.call(arguments,1))}function Q(){for(var a=[],b=0;32>b;b++){8!==b&&12!==b&&16!==b&&20!==b||a.push("-");var c=L.floor(16*L.random()).toString(16);a.push(c)}return a.join(F.empty)}function r(a){return null!==a&&void 0!==a&&a!==F.empty}function t(a){return r(a)&&"object"===typeof a}function l(a){return r(a)&&
"string"===typeof a}function G(a){return r(a)&&"function"===typeof a}function M(a){return r(a)&&"number"===typeof a}function y(a){return t(a)&&a instanceof Array}function E(a){return t(a)&&a instanceof Date}function A(a,b){return r(a)&&"boolean"===typeof a?a:b}function C(a,b){return G(a)?a:b}function K(a,b){return M(a)?a:b}function N(a,b){return l(a)?a:b}function D(a){var b=!0,c=null;try{l(a)&&(c=w.parse(a))}catch(f){try{c=eval("("+a+")"),G(c)&&(c=c())}catch(h){b=J(g.objectErrorText.replace("{{error_1}}",
f.message).replace("{{error_2}}",h.message)),c=null}}return{parsed:b,result:c}}function J(a){var b=!0;g.safeMode||(console.error(a),b=!1);return b}function W(a){g=t(a)?a:{};g.safeMode=A(g.safeMode,!0);a=g;var b=g.domElementTypes,c=["*"];l(b)?(b=b.split(F.space),0===b.length&&(b=c)):b=y(b)?b:c;a.domElementTypes=b;g.objectErrorText=N(g.objectErrorText,"Errors in object: {{error_1}}, {{error_2}}");g.attributeNotValidErrorText=N(g.attributeNotValidErrorText,"The attribute '{{attribute_name}}' is not a valid object.");
g.attributeNotSetErrorText=N(g.attributeNotSetErrorText,"The attribute '{{attribute_name}}' has not been set correctly.")}var B=null,I=null,L=null,w=null,F={empty:""},d={},V=!1,g={};this.watch=function(a,b){return R(a,b)};this.cancelWatch=function(a){var b=!1;if(l(a))if(d.hasOwnProperty(a))z(a),b=!0;else for(var c in d)if(d.hasOwnProperty(c)&&l(d[c].domElementId)&&d[c].domElementId===a){z(c);b=!0;break}return b};this.cancelWatches=function(){U();return this};this.getWatch=function(a){var b=null;if(l(a))if(d.hasOwnProperty(a))b=
d[a];else for(var c in d)if(d.hasOwnProperty(c)&&l(d[c].domElementId)&&d[c].domElementId===a){b=d[c];break}return b};this.getWatches=function(){return d};this.pauseWatch=function(a,b){var c=!1;if(l(a)&&M(b))if(d.hasOwnProperty(a))c=H(a,b);else for(var f in d)if(d.hasOwnProperty(f)&&l(d[f].domElementId)&&d[f].domElementId===a){c=H(f,b);break}return c};this.pauseWatches=function(a){if(M(a))for(var b in d)d.hasOwnProperty(b)&&H(b,a);return this};this.resumeWatch=function(a){var b=!1;if(l(a))if(d.hasOwnProperty(a))d[a].options.starts=
null,b=!0;else for(var c in d)if(d.hasOwnProperty(c)&&l(d[c].domElementId)&&d[c].domElementId===a){d[c].options.starts=null;b=!0;break}return b};this.resumeWatches=function(){for(var a in d)d.hasOwnProperty(a)&&(d[a].options.starts=null);return this};this.searchDomForNewWatches=function(){O();return this};this.setConfiguration=function(a){if(t(a)){var b=!1,c;for(c in a)a.hasOwnProperty(c)&&g.hasOwnProperty(c)&&g[c]!==a[c]&&(g[c]=a[c],b=!0);b&&W(g)}return this};this.getVersion=function(){return"0.8.1"};
(function(a,b,c,f){B=a;I=b;L=c;w=f;W();B.addEventListener("DOMContentLoaded",function(){O()});I.addEventListener("pagehide",function(){V=!0;U()});r(I.$observe)||(I.$observe=this)})(document,window,Math,JSON)})();