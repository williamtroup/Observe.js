/*! Observe.js v0.3.0 | (c) Bunoon | MIT License */
(function(){function I(a,b,c){var e=null;if(t(a)){e=J();var f=K(b);b={};b.options=f;b.domElementId=c;b.totalChanges=0;p(c)?(a=w.getElementById(c),q(a)&&(b.cachedObject=a.outerHTML,b.originalObject=a.outerHTML)):(b.cachedObject=JSON.stringify(a),b.originalObject=a);b.timer=setInterval(function(){var k=new Date;if(!x(f.starts)||k>=f.starts){var u=e;if(d.hasOwnProperty(u)){var h=d[u],g=p(h.domElementId),n=null;g&&(n=w.getElementById(h.domElementId),q(n)&&(h.originalObject=n.outerHTML));var l=h.cachedObject,
m=h.originalObject,y=g?m:JSON.stringify(m);l!==y&&(m=h.options,m.reset?g?n.outerHTML=h.cachedObject:h.originalObject=z(l).result:h.cachedObject=y,g?A(m.onChange,l,y):(g=z(l).result,n=z(y).result,A(m.onChange,g,n),B(m.onPropertyChange)&&!L(g)&&M(g,n,m)),0<m.pauseTimeoutOnChange&&C(u,m.pauseTimeoutOnChange),m.cancelOnChange&&v(u),h.totalChanges++,0<m.maximumChangesBeforeCanceling&&h.totalChanges>=m.maximumChangesBeforeCanceling&&v(u))}x(f.expires)&&k>=f.expires&&v(e)}},f.timeout);d[e]=b}return e}function M(a,
b,c){for(var e in a)if(a.hasOwnProperty(e)){var f=a[e],k=null;b.hasOwnProperty(e)&&(k=b[e]);t(f)&&t(k)?M(f,k,c):JSON.stringify(f)!==JSON.stringify(k)&&A(c.onPropertyChange,e,f,k)}}function v(a){d.hasOwnProperty(a)&&(A(d[a].options.onCancel,a),clearTimeout(d[a].timer),delete d[a])}function C(a,b){var c=!1;d.hasOwnProperty(a)&&(c=d[a].options,c.starts=new Date,c.starts.setMilliseconds(c.starts.getMilliseconds()+b),c=!0);return c}function K(a){a=t(a)?a:{};a.timeout=D(a.timeout,250);var b=a;var c=a.starts;
c=x(c)?c:null;b.starts=c;b=a;c=a.expires;c=x(c)?c:null;b.expires=c;a.reset=E(a.reset,!1);a.cancelOnChange=E(a.cancelOnChange,!1);a.maximumChangesBeforeCanceling=D(a.maximumChangesBeforeCanceling,0);a.pauseTimeoutOnChange=D(a.pauseTimeoutOnChange,0);a.onChange=F(a.onChange,null);a.onPropertyChange=F(a.onPropertyChange,null);a.onCancel=F(a.onCancel,null);return a}function A(a){B(a)&&a.apply(null,[].slice.call(arguments,1))}function J(){for(var a=[],b=0;32>b;b++){8!==b&&12!==b&&16!==b&&20!==b||a.push("-");
var c=Math.floor(16*Math.random()).toString(16);a.push(c)}return a.join(G.empty)}function q(a){return null!==a&&void 0!==a&&a!==G.empty}function t(a){return q(a)&&"object"===typeof a}function p(a){return q(a)&&"string"===typeof a}function B(a){return q(a)&&"function"===typeof a}function L(a){return t(a)&&a instanceof Array}function x(a){return t(a)&&a instanceof Date}function E(a,b){return q(a)&&"boolean"===typeof a?a:b}function F(a,b){return B(a)?a:b}function D(a,b){return q(a)&&"number"===typeof a?
a:b}function z(a){var b=!0,c=null;try{p(a)&&(c=JSON.parse(a))}catch(e){try{c=eval("("+a+")"),B(c)&&(c=c())}catch(f){b=O("Errors in object: "+e.message+", "+f.message),c=null}}return{parsed:b,result:c}}function O(a){var b=!0;r.safeMode||(console.error(a),b=!1);return b}function N(){r.safeMode=E(r.safeMode,!0);var a=r,b=r.domElementTypes,c=["*"];p(b)?(b=b.split(G.space),0===b.length&&(b=c)):b=L(b)?b:c;a.domElementTypes=b}var w=null,H=null,G={empty:""},d={},r={};this.watchObject=function(a,b){return I(a,
b)};this.cancelWatch=function(a){var b=!1;if(d.hasOwnProperty(a))v(a),b=!0;else for(var c in d)if(d.hasOwnProperty(c)&&p(d[c].domElementId)&&d[c].domElementId===a){v(c);b=!0;break}return b};this.cancelWatches=function(){for(var a in d)d.hasOwnProperty(a)&&v(a);return this};this.getWatch=function(a){var b=null;if(d.hasOwnProperty(a))b=d[a];else for(var c in d)if(d.hasOwnProperty(c)&&p(d[c].domElementId)&&d[c].domElementId===a){b=d[c];break}return b};this.getWatches=function(){return d};this.pauseWatch=
function(a,b){var c=!1;if(d.hasOwnProperty(a))c=C(a,b);else for(var e in d)if(d.hasOwnProperty(e)&&p(d[e].domElementId)&&d[e].domElementId===a){c=C(e,b);break}return c};this.setConfiguration=function(a){r=t(a)?a:{};N();return this};this.getVersion=function(){return"0.3.0"};(function(a,b){w=a;H=b;N();w.addEventListener("DOMContentLoaded",function(){for(var c=r.domElementTypes,e=c.length,f=0;f<e;f++){var k=w.getElementsByTagName(c[f]);k=[].slice.call(k);for(var u=k.length,h=0;h<u;h++){var g=k[h],n=
!0;if(q(g)&&g.hasAttribute("data-observe-options")){var l=g.getAttribute("data-observe-options");p(l)?(l=z(l),l.parsed&&t(l.result)?(l=K(l.result),p(g.id)||(g.id=J()),I(g,l,g.id)):r.safeMode||(console.error("The attribute 'data-observe-options' is not a valid object."),n=!1)):r.safeMode||(console.error("The attribute 'data-observe-options' has not been set correctly."),n=!1)}if(!n)break}}});q(H.$observe)||(H.$observe=this)})(document,window)})();