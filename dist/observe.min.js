/*! Observe.js v0.8.1 | (c) Bunoon 2024 | MIT License */
(function(){function P(){for(var a=g.domElementTypes,b=a.length,c=0;c<b;c++){var f=C.getElementsByTagName(a[c]);f=[].slice.call(f);for(var k=f.length,n=0;n<k;n++){var l=f[n],w=!0;if(t(l)&&l.hasAttribute("data-observe-watch-options")){var e=l.getAttribute("data-observe-watch-options");m(e)?(e=E(e),e.parsed&&u(e.result)?(e=Q(e.result),m(l.id)||(l.id=R()),e.removeAttribute&&l.removeAttribute("data-observe-watch-options"),S(l,e,l.id)):(K(g.attributeNotValidErrorText.replace("{{attribute_name}}",
"data-observe-watch-options")),w=!1)):(K(g.attributeNotSetErrorText.replace("{{attribute_name}}","data-observe-watch-options")),w=!1)}if(!w)break}}}function S(a,b,c){var f=null;if(u(a)){f=R();var k=Q(b);b={};b.options=k;b.totalChanges=0;if(m(c)){if(a=C.getElementById(c),t(a)){b.domElementId=c;b.cachedObject=a.outerHTML;var n=b.originalObject=a.outerHTML}}else b.cachedObject=x.stringify(a),n=b.originalObject=a;t(b.cachedObject)&&(v(b.options.onStart,n),b.timer=setInterval(function(){var l=f,w=new Date;
if(!F(k.starts)||w>=k.starts){if(d.hasOwnProperty(l)){var e=d[l],p=m(e.domElementId),q=null;p&&(q=C.getElementById(e.domElementId),t(q)?e.originalObject=q.outerHTML:(e.originalObject=G.empty,v(e.options.onRemove,e.domElementId)));var y=e.cachedObject,r=e.originalObject;r=p?r:x.stringify(r);if(y!==r){e.options.reset?p?q.outerHTML=e.cachedObject:e.originalObject=E(y).result:e.cachedObject=r;if(p)v(e.options.onChange,y,r);else if(p=E(y).result,q=E(r).result,z(p)||z(q))v(e.options.onChange,p,q);else{if(z(e.options.propertyNames))for(y=
e.options.propertyNames.length,r=0;r<y;r++){var T=e.options.propertyNames[r];if(p[T]!==q[T]){v(e.options.onChange,p,q);break}}else v(e.options.onChange,p,q);H(e.options.onPropertyChange)&&U(p,q,e)}e.totalChanges++;0<e.options.pauseTimeoutOnChange&&I(l,e.options.pauseTimeoutOnChange);e.options.cancelOnChange&&A(l);0<e.options.maximumChangesBeforeCanceling&&e.totalChanges>=e.options.maximumChangesBeforeCanceling&&A(l)}}F(k.expires)&&w>=k.expires&&A(l)}},k.timeout),d[f]=b)}return f}function U(a,b,c){for(var f in a)if(a.hasOwnProperty(f)){var k=
a[f],n=null;b.hasOwnProperty(f)&&(n=b[f]);u(k)&&u(n)?U(k,n,c.options):(!z(c.options.propertyNames)||-1<c.options.propertyNames.indexOf(f))&&x.stringify(k)!==x.stringify(n)&&v(c.options.onPropertyChange,f,k,n)}}function V(){for(var a in d)d.hasOwnProperty(a)&&A(a)}function A(a){if(d.hasOwnProperty(a)){var b=d[a].options;if(b.allowCanceling||W)v(b.onCancel,a),clearInterval(d[a].timer),delete d[a]}}function I(a,b){var c=!1;d.hasOwnProperty(a)&&(a=d[a].options,a.allowPausing&&(a.starts=new Date,a.starts.setMilliseconds(a.starts.getMilliseconds()+
b),c=!0));return c}function Q(a){var b={};a=u(a)?a:b;a.timeout=L(a.timeout,250);b=a;var c=a.starts;c=F(c)?c:null;b.starts=c;b=a;c=a.expires;c=F(c)?c:null;b.expires=c;a.reset=B(a.reset,!1);a.cancelOnChange=B(a.cancelOnChange,!1);a.maximumChangesBeforeCanceling=L(a.maximumChangesBeforeCanceling,0);a.pauseTimeoutOnChange=L(a.pauseTimeoutOnChange,0);b=a;c=a.propertyNames;c=z(c)?c:null;b.propertyNames=c;a.allowCanceling=B(a.allowCanceling,!0);a.allowPausing=B(a.allowPausing,!0);a.removeAttribute=B(a.removeAttribute,
!0);a.onChange=D(a.onChange,null);a.onPropertyChange=D(a.onPropertyChange,null);a.onCancel=D(a.onCancel,null);a.onRemove=D(a.onRemove,null);a.onStart=D(a.onStart,null);return a}function v(a){H(a)&&a.apply(null,[].slice.call(arguments,1))}function R(){for(var a=[],b=0;32>b;b++){8!==b&&12!==b&&16!==b&&20!==b||a.push("-");var c=M.floor(16*M.random()).toString(16);a.push(c)}return a.join(G.empty)}function t(a){return null!==a&&void 0!==a&&a!==G.empty}function u(a){return t(a)&&"object"===typeof a}function m(a){return t(a)&&
"string"===typeof a}function H(a){return t(a)&&"function"===typeof a}function N(a){return t(a)&&"number"===typeof a}function z(a){return u(a)&&a instanceof Array}function F(a){return u(a)&&a instanceof Date}function B(a,b){return t(a)&&"boolean"===typeof a?a:b}function D(a,b){return H(a)?a:b}function L(a,b){return N(a)?a:b}function O(a,b){return m(a)?a:b}function E(a){var b=!0,c=null;try{m(a)&&(c=x.parse(a))}catch(f){try{c=eval("("+a+")"),H(c)&&(c=c())}catch(k){b=K(g.objectErrorText.replace("{{error_1}}",
f.message).replace("{{error_2}}",k.message)),c=null}}return{parsed:b,result:c}}function K(a){var b=!0;g.safeMode||(console.error(a),b=!1);return b}function X(a){g=u(a)?a:{};g.safeMode=B(g.safeMode,!0);a=g;var b=g.domElementTypes,c=["*"];m(b)?(b=b.split(G.space),0===b.length&&(b=c)):b=z(b)?b:c;a.domElementTypes=b;g.objectErrorText=O(g.objectErrorText,"Errors in object: {{error_1}}, {{error_2}}");g.attributeNotValidErrorText=O(g.attributeNotValidErrorText,"The attribute '{{attribute_name}}' is not a valid object.");
g.attributeNotSetErrorText=O(g.attributeNotSetErrorText,"The attribute '{{attribute_name}}' has not been set correctly.")}var C=null,J=null,M=null,x=null,h={},G={empty:""},d={},W=!1,g={};h.watch=function(a,b){return S(a,b)};h.cancelWatch=function(a){var b=!1;if(m(a))if(d.hasOwnProperty(a))A(a),b=!0;else for(var c in d)if(d.hasOwnProperty(c)&&m(d[c].domElementId)&&d[c].domElementId===a){A(c);b=!0;break}return b};h.cancelWatches=function(){V();return h};h.getWatch=function(a){var b=null;if(m(a))if(d.hasOwnProperty(a))b=
d[a];else for(var c in d)if(d.hasOwnProperty(c)&&m(d[c].domElementId)&&d[c].domElementId===a){b=d[c];break}return b};h.getWatches=function(){return d};h.pauseWatch=function(a,b){var c=!1;if(m(a)&&N(b))if(d.hasOwnProperty(a))c=I(a,b);else for(var f in d)if(d.hasOwnProperty(f)&&m(d[f].domElementId)&&d[f].domElementId===a){c=I(f,b);break}return c};h.pauseWatches=function(a){if(N(a))for(var b in d)d.hasOwnProperty(b)&&I(b,a);return h};h.resumeWatch=function(a){var b=!1;if(m(a))if(d.hasOwnProperty(a))d[a].options.starts=
null,b=!0;else for(var c in d)if(d.hasOwnProperty(c)&&m(d[c].domElementId)&&d[c].domElementId===a){d[c].options.starts=null;b=!0;break}return b};h.resumeWatches=function(){for(var a in d)d.hasOwnProperty(a)&&(d[a].options.starts=null);return h};h.searchDomForNewWatches=function(){P();return h};h.setConfiguration=function(a){if(u(a)){var b=!1,c;for(c in a)a.hasOwnProperty(c)&&g.hasOwnProperty(c)&&g[c]!==a[c]&&(g[c]=a[c],b=!0);b&&X(g)}return h};h.getVersion=function(){return"0.8.1"};(function(a,b,c,
f){C=a;J=b;M=c;x=f;X();C.addEventListener("DOMContentLoaded",function(){P()});J.addEventListener("pagehide",function(){W=!0;V()});t(J.$observe)||(J.$observe=h)})(document,window,Math,JSON)})();