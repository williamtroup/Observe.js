/*! Observe.js v0.2.0 | (c) Bunoon | MIT License */
(function(){function F(a,b,c){var e=null;if(q(a)){e=G();var g=H(b);d[e]={};d[e].options=g;d[e].domElementId=c;d[e].totalChanges=0;t(c)?(a=u.getElementById(c),n(a)&&(d[e].cachedObject=a.outerHTML,d[e].originalObject=a.outerHTML)):(d[e].cachedObject=JSON.stringify(a),d[e].originalObject=a);d[e].timer=setInterval(function(){var l=new Date;if(!w(g.starts)||l>=g.starts){var h=e;if(d.hasOwnProperty(h)){var m=t(d[h].domElementId),k=null;m&&(k=u.getElementById(d[h].domElementId),n(k)&&(d[h].originalObject=
    k.outerHTML));var r=d[h].cachedObject,f=d[h].originalObject,x=m?f:JSON.stringify(f);r!==x&&(f=d[h].options,f.reset?m?k.outerHTML=d[h].cachedObject:d[h].originalObject=y(r).result:d[h].cachedObject=x,m?z(f.onChange,r,x):(m=y(r).result,k=y(x).result,z(f.onChange,m,k),A(f.onPropertyChange)&&!I(m)&&J(m,k,f)),f.cancelOnChange&&v(h),d[h].totalChanges++,0<f.maximumChangesBeforeCanceling&&d[h].totalChanges>=f.maximumChangesBeforeCanceling&&v(h))}w(g.expires)&&l>=g.expires&&v(e)}},g.observeTimeout)}return e}
    function J(a,b,c){for(var e in a)if(a.hasOwnProperty(e)){var g=a[e],l=null;b.hasOwnProperty(e)&&(l=b[e]);q(g)&&q(l)?J(g,l,c):JSON.stringify(g)!==JSON.stringify(l)&&z(c.onPropertyChange,e,g,l)}}function v(a){d.hasOwnProperty(a)&&(z(d[a].options.onCancel,a),clearTimeout(d[a].timer),delete d[a])}function H(a){var b=a=q(a)?a:{};var c=a.observeTimeout;c=K(c)?c:250;b.observeTimeout=c;b=a;c=a.starts;c=w(c)?c:null;b.starts=c;b=a;c=a.expires;c=w(c)?c:null;b.expires=c;a.reset=B(a.reset,!1);a.cancelOnChange=
    B(a.cancelOnChange,!1);b=a;c=a.maximumChangesBeforeCanceling;c=K(c)?c:0;b.maximumChangesBeforeCanceling=c;a.onChange=C(a.onChange,null);a.onPropertyChange=C(a.onPropertyChange,null);a.onCancel=C(a.onCancel,null);return a}function z(a){A(a)&&a.apply(null,[].slice.call(arguments,1))}function G(){for(var a=[],b=0;32>b;b++){8!==b&&12!==b&&16!==b&&20!==b||a.push("-");var c=Math.floor(16*Math.random()).toString(16);a.push(c)}return a.join(D.empty)}function n(a){return null!==a&&void 0!==a&&a!==D.empty}
    function q(a){return n(a)&&"object"===typeof a}function t(a){return n(a)&&"string"===typeof a}function A(a){return n(a)&&"function"===typeof a}function K(a){return n(a)&&"number"===typeof a}function I(a){return q(a)&&a instanceof Array}function w(a){return q(a)&&a instanceof Date}function B(a,b){return n(a)&&"boolean"===typeof a?a:b}function C(a,b){return A(a)?a:b}function y(a){var b=!0,c=null;try{t(a)&&(c=JSON.parse(a))}catch(e){try{c=eval("("+a+")"),A(c)&&(c=c())}catch(g){b=M("Errors in object: "+
    e.message+", "+g.message),c=null}}return{parsed:b,result:c}}function M(a){var b=!0;p.safeMode||(console.error(a),b=!1);return b}function L(){p.safeMode=B(p.safeMode,!0);var a=p,b=p.domElementTypes,c=["*"];t(b)?(b=b.split(D.space),0===b.length&&(b=c)):b=I(b)?b:c;a.domElementTypes=b}var u=null,E=null,D={empty:""},d={},p={};this.watchObject=function(a,b){return F(a,b)};this.cancelWatch=function(a){var b=!1;d.hasOwnProperty(a)&&(v(a),b=!0);return b};this.cancelDomElementWatch=function(a){var b=!1,c;for(c in d)if(d.hasOwnProperty(c)&&
    t(d[c].domElementId)&&d[c].domElementId===a){v(c);b=!0;break}return b};this.setConfiguration=function(a){p=q(a)?a:{};L();return this};this.getVersion=function(){return"0.2.0"};(function(a,b){u=a;E=b;L();u.addEventListener("DOMContentLoaded",function(){for(var c=p.domElementTypes,e=c.length,g=0;g<e;g++){var l=u.getElementsByTagName(c[g]);l=[].slice.call(l);for(var h=l.length,m=0;m<h;m++){var k=l[m],r=!0;if(n(k)&&k.hasAttribute("data-observe-options")){var f=k.getAttribute("data-observe-options");t(f)?
    (f=y(f),f.parsed&&q(f.result)?(f=H(f.result),t(k.id)||(k.id=G()),F(k,f,k.id)):p.safeMode||(console.error("The attribute 'data-observe-options' is not a valid object."),r=!1)):p.safeMode||(console.error("The attribute 'data-observe-options' has not been set correctly."),r=!1)}if(!r)break}}});n(E.$observe)||(E.$observe=this)})(document,window)})();