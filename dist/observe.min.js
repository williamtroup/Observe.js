/*! Observe.js v0.8.1 | (c) Bunoon 2024 | MIT License */
(function(){function N(){for(var a=g.domElementTypes,b=a.length,c=0;c<b;c++){var f=A.getElementsByTagName(a[c]);f=[].slice.call(f);for(var h=f.length,l=0;l<h;l++){var k=f[l],v=!0;if(r(k)&&k.hasAttribute("data-observe-watch-options")){var e=k.getAttribute("data-observe-watch-options");m(e)?(e=D(e),e.parsed&&t(e.result)?(e=O(e.result),m(k.id)||(k.id=P()),k.removeAttribute("data-observe-watch-options"),Q(k,e,k.id)):(J(g.attributeNotValidErrorText.replace("{{attribute_name}}","data-observe-watch-options")),
v=!1)):(J(g.attributeNotSetErrorText.replace("{{attribute_name}}","data-observe-watch-options")),v=!1)}if(!v)break}}}function Q(a,b,c){var f=null;if(t(a)){f=P();var h=O(b);b={};b.options=h;b.totalChanges=0;if(m(c)){if(a=A.getElementById(c),r(a)){b.domElementId=c;b.cachedObject=a.outerHTML;var l=b.originalObject=a.outerHTML}}else b.cachedObject=w.stringify(a),l=b.originalObject=a;r(b.cachedObject)&&(u(b.options.onStart,l),b.timer=setInterval(function(){var k=f,v=new Date;if(!E(h.starts)||v>=h.starts){if(d.hasOwnProperty(k)){var e=
d[k],n=m(e.domElementId),p=null;n&&(p=A.getElementById(e.domElementId),r(p)?e.originalObject=p.outerHTML:(e.originalObject=F.empty,u(e.options.onRemove,e.domElementId)));var x=e.cachedObject,q=e.originalObject;q=n?q:w.stringify(q);if(x!==q){e.options.reset?n?p.outerHTML=e.cachedObject:e.originalObject=D(x).result:e.cachedObject=q;if(n)u(e.options.onChange,x,q);else if(n=D(x).result,p=D(q).result,y(n)||y(p))u(e.options.onChange,n,p);else{if(y(e.options.propertyNames))for(x=e.options.propertyNames.length,
q=0;q<x;q++){var R=e.options.propertyNames[q];if(n[R]!==p[R]){u(e.options.onChange,n,p);break}}else u(e.options.onChange,n,p);G(e.options.onPropertyChange)&&S(n,p,e)}e.totalChanges++;0<e.options.pauseTimeoutOnChange&&H(k,e.options.pauseTimeoutOnChange);e.options.cancelOnChange&&z(k);0<e.options.maximumChangesBeforeCanceling&&e.totalChanges>=e.options.maximumChangesBeforeCanceling&&z(k)}}E(h.expires)&&v>=h.expires&&z(k)}},h.timeout),d[f]=b)}return f}function S(a,b,c){for(var f in a)if(a.hasOwnProperty(f)){var h=
a[f],l=null;b.hasOwnProperty(f)&&(l=b[f]);t(h)&&t(l)?S(h,l,c.options):(!y(c.options.propertyNames)||-1<c.options.propertyNames.indexOf(f))&&w.stringify(h)!==w.stringify(l)&&u(c.options.onPropertyChange,f,h,l)}}function T(){for(var a in d)d.hasOwnProperty(a)&&z(a)}function z(a){if(d.hasOwnProperty(a)){var b=d[a].options;if(b.allowCanceling||U)u(b.onCancel,a),clearInterval(d[a].timer),delete d[a]}}function H(a,b){var c=!1;if(d.hasOwnProperty(a)){var f=d[a].options;f.allowPausing&&(f.starts=new Date,
f.starts.setMilliseconds(f.starts.getMilliseconds()+b),c=!0)}return c}function O(a){var b={};a=t(a)?a:b;a.timeout=K(a.timeout,250);b=a;var c=a.starts;c=E(c)?c:null;b.starts=c;b=a;c=a.expires;c=E(c)?c:null;b.expires=c;a.reset=B(a.reset,!1);a.cancelOnChange=B(a.cancelOnChange,!1);a.maximumChangesBeforeCanceling=K(a.maximumChangesBeforeCanceling,0);a.pauseTimeoutOnChange=K(a.pauseTimeoutOnChange,0);b=a;c=a.propertyNames;c=y(c)?c:null;b.propertyNames=c;a.allowCanceling=B(a.allowCanceling,!0);a.allowPausing=
B(a.allowPausing,!0);a.onChange=C(a.onChange,null);a.onPropertyChange=C(a.onPropertyChange,null);a.onCancel=C(a.onCancel,null);a.onRemove=C(a.onRemove,null);a.onStart=C(a.onStart,null);return a}function u(a){G(a)&&a.apply(null,[].slice.call(arguments,1))}function P(){for(var a=[],b=0;32>b;b++){8!==b&&12!==b&&16!==b&&20!==b||a.push("-");var c=L.floor(16*L.random()).toString(16);a.push(c)}return a.join(F.empty)}function r(a){return null!==a&&void 0!==a&&a!==F.empty}function t(a){return r(a)&&"object"===
typeof a}function m(a){return r(a)&&"string"===typeof a}function G(a){return r(a)&&"function"===typeof a}function y(a){return t(a)&&a instanceof Array}function E(a){return t(a)&&a instanceof Date}function B(a,b){return r(a)&&"boolean"===typeof a?a:b}function C(a,b){return G(a)?a:b}function K(a,b){return r(a)&&"number"===typeof a?a:b}function M(a,b){return m(a)?a:b}function D(a){var b=!0,c=null;try{m(a)&&(c=w.parse(a))}catch(f){try{c=eval("("+a+")"),G(c)&&(c=c())}catch(h){b=J(g.objectErrorText.replace("{{error_1}}",
f.message).replace("{{error_2}}",h.message)),c=null}}return{parsed:b,result:c}}function J(a){var b=!0;g.safeMode||(console.error(a),b=!1);return b}function V(){g.safeMode=B(g.safeMode,!0);var a=g,b=g.domElementTypes,c=["*"];m(b)?(b=b.split(F.space),0===b.length&&(b=c)):b=y(b)?b:c;a.domElementTypes=b;g.objectErrorText=M(g.objectErrorText,"Errors in object: {{error_1}}, {{error_2}}");g.attributeNotValidErrorText=M(g.attributeNotValidErrorText,"The attribute '{{attribute_name}}' is not a valid object.");
g.attributeNotSetErrorText=M(g.attributeNotSetErrorText,"The attribute '{{attribute_name}}' has not been set correctly.")}var A=null,I=null,L=null,w=null,F={empty:""},d={},U=!1,g={};this.watch=function(a,b){return Q(a,b)};this.cancelWatch=function(a){var b=!1;if(d.hasOwnProperty(a))z(a),b=!0;else for(var c in d)if(d.hasOwnProperty(c)&&m(d[c].domElementId)&&d[c].domElementId===a){z(c);b=!0;break}return b};this.cancelWatches=function(){T();return this};this.getWatch=function(a){var b=null;if(d.hasOwnProperty(a))b=
d[a];else for(var c in d)if(d.hasOwnProperty(c)&&m(d[c].domElementId)&&d[c].domElementId===a){b=d[c];break}return b};this.getWatches=function(){return d};this.pauseWatch=function(a,b){var c=!1;if(d.hasOwnProperty(a))c=H(a,b);else for(var f in d)if(d.hasOwnProperty(f)&&m(d[f].domElementId)&&d[f].domElementId===a){c=H(f,b);break}return c};this.pauseWatches=function(a){for(var b in d)d.hasOwnProperty(b)&&H(b,a);return this};this.resumeWatch=function(a){var b=!1;if(d.hasOwnProperty(a))d[a].options.starts=
null,b=!0;else for(var c in d)if(d.hasOwnProperty(c)&&m(d[c].domElementId)&&d[c].domElementId===a){d[c].options.starts=null;b=!0;break}return b};this.resumeWatches=function(){for(var a in d)d.hasOwnProperty(a)&&(d[a].options.starts=null);return this};this.searchDomForNewWatches=function(){N();return this};this.setConfiguration=function(a){var b={};g=t(a)?a:b;V();return this};this.getVersion=function(){return"0.8.1"};(function(a,b,c,f){A=a;I=b;L=c;w=f;V();A.addEventListener("DOMContentLoaded",function(){N()});
I.addEventListener("unload",function(){U=!0;T()});r(I.$observe)||(I.$observe=this)})(document,window,Math,JSON)})();