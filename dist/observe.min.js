/*! Observe.js v0.7.0 | (c) Bunoon 2024 | MIT License */
(function(){function K(){for(var a=q.domElementTypes,b=a.length,c=0;c<b;c++){var f=z.getElementsByTagName(a[c]);f=[].slice.call(f);for(var k=f.length,h=0;h<k;h++){var l=f[h],e=!0;if(r(l)&&l.hasAttribute("data-observe-watch-options")){var g=l.getAttribute("data-observe-watch-options");p(g)?(g=B(g),g.parsed&&t(g.result)?(g=L(g.result),p(l.id)||(l.id=M()),l.removeAttribute("data-observe-watch-options"),N(l,g,l.id)):q.safeMode||(console.error("The attribute 'data-observe-watch-options' is not a valid object."),
e=!1)):q.safeMode||(console.error("The attribute 'data-observe-watch-options' has not been set correctly."),e=!1)}if(!e)break}}}function N(a,b,c){var f=null;if(t(a)){f=M();var k=L(b);b={};b.options=k;b.totalChanges=0;p(c)?(a=z.getElementById(c),r(a)&&(b.domElementId=c,b.cachedObject=a.outerHTML,b.originalObject=a.outerHTML)):(b.cachedObject=v.stringify(a),b.originalObject=a);b.timer=setInterval(function(){var h=f,l=new Date;if(!C(k.starts)||l>=k.starts){if(d.hasOwnProperty(h)){var e=d[h],g=p(e.domElementId),
m=null;g&&(m=z.getElementById(e.domElementId),r(m)?e.originalObject=m.outerHTML:(e.originalObject=D.empty,u(e.options.onRemove,e.domElementId)));var w=e.cachedObject,n=e.originalObject;n=g?n:v.stringify(n);if(w!==n){e.options.reset?g?m.outerHTML=e.cachedObject:e.originalObject=B(w).result:e.cachedObject=n;if(g)u(e.options.onChange,w,n);else if(g=B(w).result,m=B(n).result,x(g)||x(m))u(e.options.onChange,g,m);else{if(x(e.options.propertyNames))for(w=e.options.propertyNames.length,n=0;n<w;n++){var O=
e.options.propertyNames[n];if(g[O]!==m[O]){u(e.options.onChange,g,m);break}}else u(e.options.onChange,g,m);E(e.options.onPropertyChange)&&P(g,m,e)}e.totalChanges++;0<e.options.pauseTimeoutOnChange&&F(h,e.options.pauseTimeoutOnChange);e.options.cancelOnChange&&y(h);0<e.options.maximumChangesBeforeCanceling&&e.totalChanges>=e.options.maximumChangesBeforeCanceling&&y(h)}}C(k.expires)&&l>=k.expires&&y(h)}},k.timeout);d[f]=b}return f}function P(a,b,c){for(var f in a)if(a.hasOwnProperty(f)){var k=a[f],
h=null;b.hasOwnProperty(f)&&(h=b[f]);t(k)&&t(h)?P(k,h,c.options):(!x(c.options.propertyNames)||-1<c.options.propertyNames.indexOf(f))&&v.stringify(k)!==v.stringify(h)&&u(c.options.onPropertyChange,f,k,h)}}function Q(){for(var a in d)d.hasOwnProperty(a)&&y(a)}function y(a){if(d.hasOwnProperty(a)){var b=d[a].options;if(b.allowCanceling||R)u(b.onCancel,a),clearTimeout(d[a].timer),delete d[a]}}function F(a,b){var c=!1;if(d.hasOwnProperty(a)){var f=d[a].options;f.allowPausing&&(f.starts=new Date,f.starts.setMilliseconds(f.starts.getMilliseconds()+
b),c=!0)}return c}function L(a){a=t(a)?a:{};a.timeout=I(a.timeout,250);var b=a;var c=a.starts;c=C(c)?c:null;b.starts=c;b=a;c=a.expires;c=C(c)?c:null;b.expires=c;a.reset=A(a.reset,!1);a.cancelOnChange=A(a.cancelOnChange,!1);a.maximumChangesBeforeCanceling=I(a.maximumChangesBeforeCanceling,0);a.pauseTimeoutOnChange=I(a.pauseTimeoutOnChange,0);b=a;c=a.propertyNames;c=x(c)?c:null;b.propertyNames=c;a.allowCanceling=A(a.allowCanceling,!0);a.allowPausing=A(a.allowPausing,!0);a.onChange=G(a.onChange,null);
a.onPropertyChange=G(a.onPropertyChange,null);a.onCancel=G(a.onCancel,null);a.onRemove=G(a.onRemove,null);return a}function u(a){E(a)&&a.apply(null,[].slice.call(arguments,1))}function M(){for(var a=[],b=0;32>b;b++){8!==b&&12!==b&&16!==b&&20!==b||a.push("-");var c=J.floor(16*J.random()).toString(16);a.push(c)}return a.join(D.empty)}function r(a){return null!==a&&void 0!==a&&a!==D.empty}function t(a){return r(a)&&"object"===typeof a}function p(a){return r(a)&&"string"===typeof a}function E(a){return r(a)&&
"function"===typeof a}function x(a){return t(a)&&a instanceof Array}function C(a){return t(a)&&a instanceof Date}function A(a,b){return r(a)&&"boolean"===typeof a?a:b}function G(a,b){return E(a)?a:b}function I(a,b){return r(a)&&"number"===typeof a?a:b}function B(a){var b=!0,c=null;try{p(a)&&(c=v.parse(a))}catch(f){try{c=eval("("+a+")"),E(c)&&(c=c())}catch(k){b=T("Errors in object: "+f.message+", "+k.message),c=null}}return{parsed:b,result:c}}function T(a){var b=!0;q.safeMode||(console.error(a),b=
!1);return b}function S(){q.safeMode=A(q.safeMode,!0);var a=q,b=q.domElementTypes,c=["*"];p(b)?(b=b.split(D.space),0===b.length&&(b=c)):b=x(b)?b:c;a.domElementTypes=b}var z=null,H=null,J=null,v=null,D={empty:""},d={},R=!1,q={};this.watch=function(a,b){return N(a,b)};this.cancelWatch=function(a){var b=!1;if(d.hasOwnProperty(a))y(a),b=!0;else for(var c in d)if(d.hasOwnProperty(c)&&p(d[c].domElementId)&&d[c].domElementId===a){y(c);b=!0;break}return b};this.cancelWatches=function(){Q();return this};this.getWatch=
function(a){var b=null;if(d.hasOwnProperty(a))b=d[a];else for(var c in d)if(d.hasOwnProperty(c)&&p(d[c].domElementId)&&d[c].domElementId===a){b=d[c];break}return b};this.getWatches=function(){return d};this.pauseWatch=function(a,b){var c=!1;if(d.hasOwnProperty(a))c=F(a,b);else for(var f in d)if(d.hasOwnProperty(f)&&p(d[f].domElementId)&&d[f].domElementId===a){c=F(f,b);break}return c};this.pauseWatches=function(a){for(var b in d)d.hasOwnProperty(b)&&F(b,a);return this};this.resumeWatch=function(a){var b=
!1;if(d.hasOwnProperty(a))d[a].options.starts=null,b=!0;else for(var c in d)if(d.hasOwnProperty(c)&&p(d[c].domElementId)&&d[c].domElementId===a){d[c].options.starts=null;b=!0;break}return b};this.resumeWatches=function(){for(var a in d)d.hasOwnProperty(a)&&(d[a].options.starts=null);return this};this.searchDomForNewWatches=function(){K();return this};this.setConfiguration=function(a){q=t(a)?a:{};S();return this};this.getVersion=function(){return"0.7.0"};(function(a,b,c,f){z=a;H=b;J=c;v=f;S();z.addEventListener("DOMContentLoaded",
function(){K()});H.addEventListener("unload",function(){R=!0;Q()});r(H.$observe)||(H.$observe=this)})(document,window,Math,JSON)})();