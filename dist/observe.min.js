/*! Observe.js v0.1.0 | (c) Bunoon | MIT License */
(function(){function A(a,b,c){var d=null;if(q(a)){d=B();var g=C(b);e[d]={};e[d].options=g;e[d].domElementId=c;t(c)?(a=u.getElementById(c),n(a)&&(e[d].cachedObject=a.innerHTML,e[d].originalObject=a.innerHTML)):(e[d].cachedObject=JSON.stringify(a),e[d].originalObject=a);e[d].timer=setInterval(function(){var k=new Date,h=d,l=t(e[h].domElementId);if(l){var f=u.getElementById(e[h].domElementId);n(f)&&(e[h].originalObject=f.innerHTML)}f=e[h].cachedObject;var m=e[h].originalObject;m=l?m:JSON.stringify(m);
f!==m&&(e[h].cachedObject=m,h=e[h].options,l?w(h.onChange,f,m):(l=x(f).result,f=x(m).result,w(h.onChange,l,f),v(h.onPropertyChange)&&!D(l)&&E(l,f,h)));F(g.expires)&&k>g.expires&&(clearTimeout(e[d].timer),delete e[d])},g.observeTimeout)}return d}function E(a,b,c){for(var d in a)if(a.hasOwnProperty(d)){var g=a[d],k=null;b.hasOwnProperty(d)&&(k=b[d]);q(g)&&q(k)?E(g,k,c):JSON.stringify(g)!==JSON.stringify(k)&&w(c.onPropertyChange,d,g,k)}}function C(a){a=q(a)?a:{};var b=a.observeTimeout;var c=n(b)&&"number"===
typeof b;a.observeTimeout=c?b:250;b=a.expires;b=F(b)?b:null;a.expires=b;b=a.onChange;b=v(b)?b:null;a.onChange=b;b=a.onPropertyChange;b=v(b)?b:null;a.onPropertyChange=b;return a}function w(a){v(a)&&a.apply(null,[].slice.call(arguments,1))}function B(){for(var a=[],b=0;32>b;b++){8!==b&&12!==b&&16!==b&&20!==b||a.push("-");var c=Math.floor(16*Math.random()).toString(16);a.push(c)}return a.join(y.empty)}function n(a){return null!==a&&void 0!==a&&a!==y.empty}function q(a){return n(a)&&"object"===typeof a}
function t(a){return n(a)&&"string"===typeof a}function v(a){return n(a)&&"function"===typeof a}function D(a){return q(a)&&a instanceof Array}function F(a){return q(a)&&a instanceof Date}function x(a){var b=!0,c=null;try{t(a)&&(c=JSON.parse(a))}catch(d){try{c=eval("("+a+")"),v(c)&&(c=c())}catch(g){b=H("Errors in object: "+d.message+", "+g.message),c=null}}return{parsed:b,result:c}}function H(a){var b=!0;p.safeMode||(console.error(a),b=!1);return b}function G(){var a=p,b=p.safeMode;var c=n(b)&&"boolean"===
typeof b;a.safeMode=c?b:!0;a=p;c=p.domElementTypes;b=["*"];t(c)?(c=c.split(y.space),0===c.length&&(c=b)):c=D(c)?c:b;a.domElementTypes=c}var u=null,z=null,y={empty:""},e={},p={};this.watchObject=function(a,b){return A(a,b)};this.cancelWatch=function(a){var b=!1;e.hasOwnProperty(a)&&(clearTimeout(e[a].timer),delete e[a],b=!0);return b};this.setConfiguration=function(a){p=q(a)?a:{};G();return this};this.getVersion=function(){return"0.1.0"};(function(a,b){u=a;z=b;G();u.addEventListener("DOMContentLoaded",
function(){for(var c=p.domElementTypes,d=c.length,g=0;g<d;g++){var k=u.getElementsByTagName(c[g]);k=[].slice.call(k);for(var h=k.length,l=0;l<h;l++){var f=k[l],m=!0;if(n(f)&&f.hasAttribute("data-observe-options")){var r=f.getAttribute("data-observe-options");t(r)?(r=x(r),r.parsed&&q(r.result)?(r=C(r.result),t(f.id)||(f.id=B()),A(f,r,f.id)):p.safeMode||(console.error("The attribute 'data-observe-options' is not a valid object."),m=!1)):p.safeMode||(console.error("The attribute 'data-observe-options' has not been set correctly."),
m=!1)}if(!m)break}}});n(z.$observe)||(z.$observe=this)})(document,window)})();