/*! Observe.js v0.3.0 | (c) Bunoon | MIT License */
(function(){function H(a,b,c){var h=null;if(r(a)){h=I();var e=J(b);b={};b.options=e;b.domElementId=c;b.totalChanges=0;t(c)?(a=w.getElementById(c),p(a)&&(b.cachedObject=a.outerHTML,b.originalObject=a.outerHTML)):(b.cachedObject=JSON.stringify(a),b.originalObject=a);b.timer=setInterval(function(){var l=new Date;if(!x(e.starts)||l>=e.starts){var u=h;if(d.hasOwnProperty(u)){var k=d[u],f=t(k.domElementId),n=null;f&&(n=w.getElementById(k.domElementId),p(n)&&(k.originalObject=n.outerHTML));var m=k.cachedObject,
g=k.originalObject,y=f?g:JSON.stringify(g);m!==y&&(g=k.options,g.reset?f?n.outerHTML=k.cachedObject:k.originalObject=z(m).result:k.cachedObject=y,f?A(g.onChange,m,y):(f=z(m).result,n=z(y).result,A(g.onChange,f,n),B(g.onPropertyChange)&&!K(f)&&L(f,n,g)),0<g.pauseTimeoutOnChange&&(g.starts=new Date,g.starts.setMilliseconds(g.starts.getMilliseconds()+g.pauseTimeoutOnChange)),g.cancelOnChange&&v(u),k.totalChanges++,0<g.maximumChangesBeforeCanceling&&k.totalChanges>=g.maximumChangesBeforeCanceling&&v(u))}x(e.expires)&&
l>=e.expires&&v(h)}},e.timeout);d[h]=b}return h}function L(a,b,c){for(var h in a)if(a.hasOwnProperty(h)){var e=a[h],l=null;b.hasOwnProperty(h)&&(l=b[h]);r(e)&&r(l)?L(e,l,c):JSON.stringify(e)!==JSON.stringify(l)&&A(c.onPropertyChange,h,e,l)}}function v(a){d.hasOwnProperty(a)&&(A(d[a].options.onCancel,a),clearTimeout(d[a].timer),delete d[a])}function J(a){a=r(a)?a:{};a.timeout=C(a.timeout,250);var b=a;var c=a.starts;c=x(c)?c:null;b.starts=c;b=a;c=a.expires;c=x(c)?c:null;b.expires=c;a.reset=D(a.reset,
!1);a.cancelOnChange=D(a.cancelOnChange,!1);a.maximumChangesBeforeCanceling=C(a.maximumChangesBeforeCanceling,0);a.pauseTimeoutOnChange=C(a.pauseTimeoutOnChange,0);a.onChange=E(a.onChange,null);a.onPropertyChange=E(a.onPropertyChange,null);a.onCancel=E(a.onCancel,null);return a}function A(a){B(a)&&a.apply(null,[].slice.call(arguments,1))}function I(){for(var a=[],b=0;32>b;b++){8!==b&&12!==b&&16!==b&&20!==b||a.push("-");var c=Math.floor(16*Math.random()).toString(16);a.push(c)}return a.join(F.empty)}
function p(a){return null!==a&&void 0!==a&&a!==F.empty}function r(a){return p(a)&&"object"===typeof a}function t(a){return p(a)&&"string"===typeof a}function B(a){return p(a)&&"function"===typeof a}function K(a){return r(a)&&a instanceof Array}function x(a){return r(a)&&a instanceof Date}function D(a,b){return p(a)&&"boolean"===typeof a?a:b}function E(a,b){return B(a)?a:b}function C(a,b){return p(a)&&"number"===typeof a?a:b}function z(a){var b=!0,c=null;try{t(a)&&(c=JSON.parse(a))}catch(h){try{c=
eval("("+a+")"),B(c)&&(c=c())}catch(e){b=N("Errors in object: "+h.message+", "+e.message),c=null}}return{parsed:b,result:c}}function N(a){var b=!0;q.safeMode||(console.error(a),b=!1);return b}function M(){q.safeMode=D(q.safeMode,!0);var a=q,b=q.domElementTypes,c=["*"];t(b)?(b=b.split(F.space),0===b.length&&(b=c)):b=K(b)?b:c;a.domElementTypes=b}var w=null,G=null,F={empty:""},d={},q={};this.watchObject=function(a,b){return H(a,b)};this.cancelWatch=function(a){var b=!1;if(d.hasOwnProperty(a))v(a),b=
!0;else for(var c in d)if(d.hasOwnProperty(c)&&t(d[c].domElementId)&&d[c].domElementId===a){v(c);b=!0;break}return b};this.cancelAllWatches=function(){for(var a in d)d.hasOwnProperty(a)&&v(a);return this};this.getWatch=function(a){var b=null;if(d.hasOwnProperty(a))b=d[a];else for(var c in d)if(d.hasOwnProperty(c)&&t(d[c].domElementId)&&d[c].domElementId===a){b=d[c];break}return b};this.setConfiguration=function(a){q=r(a)?a:{};M();return this};this.getVersion=function(){return"0.3.0"};(function(a,
b){w=a;G=b;M();w.addEventListener("DOMContentLoaded",function(){for(var c=q.domElementTypes,h=c.length,e=0;e<h;e++){var l=w.getElementsByTagName(c[e]);l=[].slice.call(l);for(var u=l.length,k=0;k<u;k++){var f=l[k],n=!0;if(p(f)&&f.hasAttribute("data-observe-options")){var m=f.getAttribute("data-observe-options");t(m)?(m=z(m),m.parsed&&r(m.result)?(m=J(m.result),t(f.id)||(f.id=I()),H(f,m,f.id)):q.safeMode||(console.error("The attribute 'data-observe-options' is not a valid object."),n=!1)):q.safeMode||
(console.error("The attribute 'data-observe-options' has not been set correctly."),n=!1)}if(!n)break}}});p(G.$observe)||(G.$observe=this)})(document,window)})();