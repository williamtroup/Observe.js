/*! Observe.js v0.3.0 | (c) Bunoon | MIT License */
(function(){function G(a,b,c){var g=null;if(r(a)){g=H();var e=I(b);b={};b.options=e;b.domElementId=c;b.totalChanges=0;t(c)?(a=v.getElementById(c),p(a)&&(b.cachedObject=a.outerHTML,b.originalObject=a.outerHTML)):(b.cachedObject=JSON.stringify(a),b.originalObject=a);b.timer=setInterval(function(){var k=new Date;if(!x(e.starts)||k>=e.starts){var u=g;if(d.hasOwnProperty(u)){var h=d[u],f=t(h.domElementId),m=null;f&&(m=v.getElementById(h.domElementId),p(m)&&(h.originalObject=m.outerHTML));var l=h.cachedObject,
n=h.originalObject,y=f?n:JSON.stringify(n);l!==y&&(n=h.options,n.reset?f?m.outerHTML=h.cachedObject:h.originalObject=z(l).result:h.cachedObject=y,f?A(n.onChange,l,y):(f=z(l).result,m=z(y).result,A(n.onChange,f,m),B(n.onPropertyChange)&&!J(f)&&K(f,m,n)),n.cancelOnChange&&w(u),h.totalChanges++,0<n.maximumChangesBeforeCanceling&&h.totalChanges>=n.maximumChangesBeforeCanceling&&w(u))}x(e.expires)&&k>=e.expires&&w(g)}},e.timeout);d[g]=b}return g}function K(a,b,c){for(var g in a)if(a.hasOwnProperty(g)){var e=
a[g],k=null;b.hasOwnProperty(g)&&(k=b[g]);r(e)&&r(k)?K(e,k,c):JSON.stringify(e)!==JSON.stringify(k)&&A(c.onPropertyChange,g,e,k)}}function w(a){d.hasOwnProperty(a)&&(A(d[a].options.onCancel,a),clearTimeout(d[a].timer),delete d[a])}function I(a){var b=a=r(a)?a:{};var c=a.timeout;c=L(c)?c:250;b.timeout=c;b=a;c=a.starts;c=x(c)?c:null;b.starts=c;b=a;c=a.expires;c=x(c)?c:null;b.expires=c;a.reset=C(a.reset,!1);a.cancelOnChange=C(a.cancelOnChange,!1);b=a;c=a.maximumChangesBeforeCanceling;c=L(c)?c:0;b.maximumChangesBeforeCanceling=
c;a.onChange=D(a.onChange,null);a.onPropertyChange=D(a.onPropertyChange,null);a.onCancel=D(a.onCancel,null);return a}function A(a){B(a)&&a.apply(null,[].slice.call(arguments,1))}function H(){for(var a=[],b=0;32>b;b++){8!==b&&12!==b&&16!==b&&20!==b||a.push("-");var c=Math.floor(16*Math.random()).toString(16);a.push(c)}return a.join(E.empty)}function p(a){return null!==a&&void 0!==a&&a!==E.empty}function r(a){return p(a)&&"object"===typeof a}function t(a){return p(a)&&"string"===typeof a}function B(a){return p(a)&&
"function"===typeof a}function L(a){return p(a)&&"number"===typeof a}function J(a){return r(a)&&a instanceof Array}function x(a){return r(a)&&a instanceof Date}function C(a,b){return p(a)&&"boolean"===typeof a?a:b}function D(a,b){return B(a)?a:b}function z(a){var b=!0,c=null;try{t(a)&&(c=JSON.parse(a))}catch(g){try{c=eval("("+a+")"),B(c)&&(c=c())}catch(e){b=N("Errors in object: "+g.message+", "+e.message),c=null}}return{parsed:b,result:c}}function N(a){var b=!0;q.safeMode||(console.error(a),b=!1);
return b}function M(){q.safeMode=C(q.safeMode,!0);var a=q,b=q.domElementTypes,c=["*"];t(b)?(b=b.split(E.space),0===b.length&&(b=c)):b=J(b)?b:c;a.domElementTypes=b}var v=null,F=null,E={empty:""},d={},q={};this.watchObject=function(a,b){return G(a,b)};this.cancelWatch=function(a){var b=!1;if(d.hasOwnProperty(a))w(a),b=!0;else for(var c in d)if(d.hasOwnProperty(c)&&t(d[c].domElementId)&&d[c].domElementId===a){w(c);b=!0;break}return b};this.getWatch=function(a){var b=null;if(d.hasOwnProperty(a))b=d[a];
else for(var c in d)if(d.hasOwnProperty(c)&&t(d[c].domElementId)&&d[c].domElementId===a){b=d[c];break}return b};this.setConfiguration=function(a){q=r(a)?a:{};M();return this};this.getVersion=function(){return"0.3.0"};(function(a,b){v=a;F=b;M();v.addEventListener("DOMContentLoaded",function(){for(var c=q.domElementTypes,g=c.length,e=0;e<g;e++){var k=v.getElementsByTagName(c[e]);k=[].slice.call(k);for(var u=k.length,h=0;h<u;h++){var f=k[h],m=!0;if(p(f)&&f.hasAttribute("data-observe-options")){var l=
f.getAttribute("data-observe-options");t(l)?(l=z(l),l.parsed&&r(l.result)?(l=I(l.result),t(f.id)||(f.id=H()),G(f,l,f.id)):q.safeMode||(console.error("The attribute 'data-observe-options' is not a valid object."),m=!1)):q.safeMode||(console.error("The attribute 'data-observe-options' has not been set correctly."),m=!1)}if(!m)break}}});p(F.$observe)||(F.$observe=this)})(document,window)})();