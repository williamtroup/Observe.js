/*! Observe.js v0.2.0 | (c) Bunoon | MIT License */
(function(){function D(a,b,c){var d=null;if(q(a)){d=E();var g=F(b);e[d]={};e[d].options=g;e[d].domElementId=c;t(c)?(a=u.getElementById(c),n(a)&&(e[d].cachedObject=a.outerHTML,e[d].originalObject=a.outerHTML)):(e[d].cachedObject=JSON.stringify(a),e[d].originalObject=a);e[d].timer=setInterval(function(){var k=new Date,l=d,m=t(e[l].domElementId),h=null;m&&(h=u.getElementById(e[l].domElementId),n(h)&&(e[l].originalObject=h.outerHTML));var r=e[l].cachedObject,f=e[l].originalObject,w=m?f:JSON.stringify(f);
r!==w&&(f=e[l].options,f.reset?m?h.outerHTML=e[l].cachedObject:e[l].originalObject=x(r).result:e[l].cachedObject=w,m?z(f.onChange,r,w):(m=x(r).result,h=x(w).result,z(f.onChange,m,h),v(f.onPropertyChange)&&!G(m)&&H(m,h,f)),f.cancelOnChange&&y(l));I(g.expires)&&k>g.expires&&y(d)},g.observeTimeout)}return d}function H(a,b,c){for(var d in a)if(a.hasOwnProperty(d)){var g=a[d],k=null;b.hasOwnProperty(d)&&(k=b[d]);q(g)&&q(k)?H(g,k,c):JSON.stringify(g)!==JSON.stringify(k)&&z(c.onPropertyChange,d,g,k)}}function y(a){clearTimeout(e[a].timer);
delete e[a]}function F(a){var b=a=q(a)?a:{},c=a.observeTimeout;var d=n(c)&&"number"===typeof c;b.observeTimeout=d?c:250;b=a;c=a.expires;c=I(c)?c:null;b.expires=c;a.reset=A(a.reset,!1);a.cancelOnChange=A(a.cancelOnChange,!1);b=a.onChange;b=v(b)?b:null;a.onChange=b;b=a.onPropertyChange;b=v(b)?b:null;a.onPropertyChange=b;return a}function z(a){v(a)&&a.apply(null,[].slice.call(arguments,1))}function E(){for(var a=[],b=0;32>b;b++){8!==b&&12!==b&&16!==b&&20!==b||a.push("-");var c=Math.floor(16*Math.random()).toString(16);
a.push(c)}return a.join(B.empty)}function n(a){return null!==a&&void 0!==a&&a!==B.empty}function q(a){return n(a)&&"object"===typeof a}function t(a){return n(a)&&"string"===typeof a}function v(a){return n(a)&&"function"===typeof a}function G(a){return q(a)&&a instanceof Array}function I(a){return q(a)&&a instanceof Date}function A(a,b){return n(a)&&"boolean"===typeof a?a:b}function x(a){var b=!0,c=null;try{t(a)&&(c=JSON.parse(a))}catch(d){try{c=eval("("+a+")"),v(c)&&(c=c())}catch(g){b=K("Errors in object: "+
d.message+", "+g.message),c=null}}return{parsed:b,result:c}}function K(a){var b=!0;p.safeMode||(console.error(a),b=!1);return b}function J(){p.safeMode=A(p.safeMode,!0);var a=p,b=p.domElementTypes,c=["*"];t(b)?(b=b.split(B.space),0===b.length&&(b=c)):b=G(b)?b:c;a.domElementTypes=b}var u=null,C=null,B={empty:""},e={},p={};this.watchObject=function(a,b){return D(a,b)};this.cancelWatch=function(a){var b=!1;e.hasOwnProperty(a)&&(y(a),b=!0);return b};this.cancelDomElementWatch=function(a){var b=!1,c;for(c in e)if(e.hasOwnProperty(c)&&
t(e[c].domElementId)&&e[c].domElementId===a){y(c);b=!0;break}return b};this.setConfiguration=function(a){p=q(a)?a:{};J();return this};this.getVersion=function(){return"0.2.0"};(function(a,b){u=a;C=b;J();u.addEventListener("DOMContentLoaded",function(){for(var c=p.domElementTypes,d=c.length,g=0;g<d;g++){var k=u.getElementsByTagName(c[g]);k=[].slice.call(k);for(var l=k.length,m=0;m<l;m++){var h=k[m],r=!0;if(n(h)&&h.hasAttribute("data-observe-options")){var f=h.getAttribute("data-observe-options");t(f)?
(f=x(f),f.parsed&&q(f.result)?(f=F(f.result),t(h.id)||(h.id=E()),D(h,f,h.id)):p.safeMode||(console.error("The attribute 'data-observe-options' is not a valid object."),r=!1)):p.safeMode||(console.error("The attribute 'data-observe-options' has not been set correctly."),r=!1)}if(!r)break}}});n(C.$observe)||(C.$observe=this)})(document,window)})();