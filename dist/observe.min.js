/*! Observe.js v0.2.0 | (c) Bunoon | MIT License */
(function(){function G(a,b,c){var f=null;if(r(a)){f=H();var d=I(b);b={};b.options=d;b.domElementId=c;b.totalChanges=0;t(c)?(a=v.getElementById(c),p(a)&&(b.cachedObject=a.outerHTML,b.originalObject=a.outerHTML)):(b.cachedObject=JSON.stringify(a),b.originalObject=a);b.timer=setInterval(function(){var h=new Date;if(!x(d.starts)||h>=d.starts){var u=f;if(l.hasOwnProperty(u)){var g=l[u],e=t(g.domElementId),m=null;e&&(m=v.getElementById(g.domElementId),p(m)&&(g.originalObject=m.outerHTML));var k=g.cachedObject,
n=g.originalObject,y=e?n:JSON.stringify(n);k!==y&&(n=g.options,n.reset?e?m.outerHTML=g.cachedObject:g.originalObject=z(k).result:g.cachedObject=y,e?A(n.onChange,k,y):(e=z(k).result,m=z(y).result,A(n.onChange,e,m),B(n.onPropertyChange)&&!J(e)&&K(e,m,n)),n.cancelOnChange&&w(u),g.totalChanges++,0<n.maximumChangesBeforeCanceling&&g.totalChanges>=n.maximumChangesBeforeCanceling&&w(u))}x(d.expires)&&h>=d.expires&&w(f)}},d.observeTimeout);l[f]=b}return f}function K(a,b,c){for(var f in a)if(a.hasOwnProperty(f)){var d=
a[f],h=null;b.hasOwnProperty(f)&&(h=b[f]);r(d)&&r(h)?K(d,h,c):JSON.stringify(d)!==JSON.stringify(h)&&A(c.onPropertyChange,f,d,h)}}function w(a){l.hasOwnProperty(a)&&(A(l[a].options.onCancel,a),clearTimeout(l[a].timer),delete l[a])}function I(a){var b=a=r(a)?a:{};var c=a.observeTimeout;c=L(c)?c:250;b.observeTimeout=c;b=a;c=a.starts;c=x(c)?c:null;b.starts=c;b=a;c=a.expires;c=x(c)?c:null;b.expires=c;a.reset=C(a.reset,!1);a.cancelOnChange=C(a.cancelOnChange,!1);b=a;c=a.maximumChangesBeforeCanceling;c=
L(c)?c:0;b.maximumChangesBeforeCanceling=c;a.onChange=D(a.onChange,null);a.onPropertyChange=D(a.onPropertyChange,null);a.onCancel=D(a.onCancel,null);return a}function A(a){B(a)&&a.apply(null,[].slice.call(arguments,1))}function H(){for(var a=[],b=0;32>b;b++){8!==b&&12!==b&&16!==b&&20!==b||a.push("-");var c=Math.floor(16*Math.random()).toString(16);a.push(c)}return a.join(E.empty)}function p(a){return null!==a&&void 0!==a&&a!==E.empty}function r(a){return p(a)&&"object"===typeof a}function t(a){return p(a)&&
"string"===typeof a}function B(a){return p(a)&&"function"===typeof a}function L(a){return p(a)&&"number"===typeof a}function J(a){return r(a)&&a instanceof Array}function x(a){return r(a)&&a instanceof Date}function C(a,b){return p(a)&&"boolean"===typeof a?a:b}function D(a,b){return B(a)?a:b}function z(a){var b=!0,c=null;try{t(a)&&(c=JSON.parse(a))}catch(f){try{c=eval("("+a+")"),B(c)&&(c=c())}catch(d){b=N("Errors in object: "+f.message+", "+d.message),c=null}}return{parsed:b,result:c}}function N(a){var b=
!0;q.safeMode||(console.error(a),b=!1);return b}function M(){q.safeMode=C(q.safeMode,!0);var a=q,b=q.domElementTypes,c=["*"];t(b)?(b=b.split(E.space),0===b.length&&(b=c)):b=J(b)?b:c;a.domElementTypes=b}var v=null,F=null,E={empty:""},l={},q={};this.watchObject=function(a,b){return G(a,b)};this.cancelWatch=function(a){var b=!1;l.hasOwnProperty(a)&&(w(a),b=!0);return b};this.cancelDomElementWatch=function(a){var b=!1,c;for(c in l)if(l.hasOwnProperty(c)&&t(l[c].domElementId)&&l[c].domElementId===a){w(c);
b=!0;break}return b};this.setConfiguration=function(a){q=r(a)?a:{};M();return this};this.getVersion=function(){return"0.2.0"};(function(a,b){v=a;F=b;M();v.addEventListener("DOMContentLoaded",function(){for(var c=q.domElementTypes,f=c.length,d=0;d<f;d++){var h=v.getElementsByTagName(c[d]);h=[].slice.call(h);for(var u=h.length,g=0;g<u;g++){var e=h[g],m=!0;if(p(e)&&e.hasAttribute("data-observe-options")){var k=e.getAttribute("data-observe-options");t(k)?(k=z(k),k.parsed&&r(k.result)?(k=I(k.result),t(e.id)||
(e.id=H()),G(e,k,e.id)):q.safeMode||(console.error("The attribute 'data-observe-options' is not a valid object."),m=!1)):q.safeMode||(console.error("The attribute 'data-observe-options' has not been set correctly."),m=!1)}if(!m)break}}});p(F.$observe)||(F.$observe=this)})(document,window)})();